/*!
 * Stockfish copyright T. Romstad, M. Costalba, J. Kiiski, G. Linscott
 * and other contributors.
 *
 * Released under the GNU General Public License v3.
 *
 * Compiled to JavaScript and WebAssembly by Niklas Fiekas
 * <niklas.fiekas@backscattering.de> using Emscripten.
 *
 * https://github.com/niklasf/stockfish.wasm
 */

var Stockfish = (function() {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
  return (
function(Stockfish) {
  Stockfish = Stockfish || {};


function e(){k.buffer!=l&&n(k.buffer);return aa}function t(){k.buffer!=l&&n(k.buffer);return ba}function u(){k.buffer!=l&&n(k.buffer);return ca}function x(){k.buffer!=l&&n(k.buffer);return da}function ea(){k.buffer!=l&&n(k.buffer);return fa}null;var z;z||(z=typeof Stockfish !== 'undefined' ? Stockfish : {});var ha,ia;z.ready=new Promise(function(a,b){ha=a;ia=b});
(function(){function a(){var g=d.shift();if(!b&&void 0!==g){if("quit"===g)return z.terminate();var m=z.ccall("uci_command","number",["string"],[g]);m&&d.unshift(g);h=m?2*h:1;setTimeout(a,h)}}var b=!1,c=[];z.print=function(g){0===c.length?console.log(g):setTimeout(function(){for(var m=0;m<c.length;m++)c[m](g)})};z.addMessageListener=function(g){c.push(g)};z.removeMessageListener=function(g){g=c.indexOf(g);0<=g&&c.splice(g,1)};z.terminate=function(){b=!0;A.Ea()};var d=[],h=1;z.postMessage=function(g){d.push(g)};
z.postRun=function(){z.postMessage=function(g){d.push(g);1===d.length&&a()};a()}})();var B={},C;for(C in z)z.hasOwnProperty(C)&&(B[C]=z[C]);var ja=[],ka="./this.program";function la(a,b){throw b;}var ma=!1,D=!1,E=!1;ma="object"===typeof window;D="function"===typeof importScripts;E="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node;var F=z.ENVIRONMENT_IS_PTHREAD||!1;F&&(l=z.buffer);var G="",H,I,J,K;
if(E){G=D?require("path").dirname(G)+"/":__dirname+"/";H=function(a,b){J||(J=require("fs"));K||(K=require("path"));a=K.normalize(a);return J.readFileSync(a,b?null:"utf8")};I=function(a){a=H(a,!0);a.buffer||(a=new Uint8Array(a));assert(a.buffer);return a};1<process.argv.length&&(ka=process.argv[1].replace(/\\/g,"/"));ja=process.argv.slice(2);process.on("uncaughtException",function(a){if(!(a instanceof L))throw a;});process.on("unhandledRejection",M);la=function(a){process.exit(a)};z.inspect=function(){return"[Emscripten Module object]"};
var na;try{na=require("worker_threads")}catch(a){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),a;}global.Worker=na.Worker}else if(ma||D)D?G=self.location.href:"undefined"!==typeof document&&document.currentScript&&(G=document.currentScript.src),_scriptDir&&(G=_scriptDir),0!==G.indexOf("blob:")?G=G.substr(0,G.lastIndexOf("/")+1):G="",E?(H=function(a,b){J||(J=require("fs"));K||(K=require("path"));a=K.normalize(a);return J.readFileSync(a,
b?null:"utf8")},I=function(a){a=H(a,!0);a.buffer||(a=new Uint8Array(a));assert(a.buffer);return a}):(H=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},D&&(I=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}));E&&"undefined"===typeof performance&&(global.performance=require("perf_hooks").performance);var oa=z.print||console.log.bind(console),O=console.warn.bind(console);
for(C in B)B.hasOwnProperty(C)&&(z[C]=B[C]);B=null;var qa,noExitRuntime=!0;"object"!==typeof WebAssembly&&M("no native wasm support detected");var k,ra,sa=!1;function assert(a,b){a||M("Assertion failed: "+b)}function ta(a){var b=z["_"+a];assert(b,"Cannot call unknown function "+a+", make sure it is exported");return b}
function ua(a,b,c){c=b+c;for(var d="";!(b>=c);){var h=a[b++];if(!h)break;if(h&128){var g=a[b++]&63;if(192==(h&224))d+=String.fromCharCode((h&31)<<6|g);else{var m=a[b++]&63;h=224==(h&240)?(h&15)<<12|g<<6|m:(h&7)<<18|g<<12|m<<6|a[b++]&63;65536>h?d+=String.fromCharCode(h):(h-=65536,d+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else d+=String.fromCharCode(h)}return d}function P(a){return a?ua(t(),a,void 0):""}
function va(a,b,c,d){if(0<d){d=c+d-1;for(var h=0;h<a.length;++h){var g=a.charCodeAt(h);if(55296<=g&&57343>=g){var m=a.charCodeAt(++h);g=65536+((g&1023)<<10)|m&1023}if(127>=g){if(c>=d)break;b[c++]=g}else{if(2047>=g){if(c+1>=d)break;b[c++]=192|g>>6}else{if(65535>=g){if(c+2>=d)break;b[c++]=224|g>>12}else{if(c+3>=d)break;b[c++]=240|g>>18;b[c++]=128|g>>12&63}b[c++]=128|g>>6&63}b[c++]=128|g&63}}b[c]=0}}
function wa(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}return b}function xa(a){var b=wa(a)+1,c=Q(b);va(a,e(),c,b);return c}function ya(a,b){e().set(a,b)}var l,aa,ba,ca,da,fa;
function n(a){l=a;z.HEAP8=aa=new Int8Array(a);z.HEAP16=new Int16Array(a);z.HEAP32=ca=new Int32Array(a);z.HEAPU8=ba=new Uint8Array(a);z.HEAPU16=new Uint16Array(a);z.HEAPU32=da=new Uint32Array(a);z.HEAPF32=new Float32Array(a);z.HEAPF64=fa=new Float64Array(a)}var za=67108864;
if(F)k=z.wasmMemory,l=z.buffer;else if(k=new WebAssembly.Memory({initial:za/65536,maximum:32768,shared:!0}),!(k.buffer instanceof SharedArrayBuffer))throw O("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),E&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),
Error("bad memory");k&&(l=k.buffer);za=l.byteLength;n(l);var Aa,Ba=[],Ca=[],Da=[],Ea=[];F||Ca.push({Ia:function(){Fa()}});var R=0,Ga=null,S=null;z.preloadedImages={};z.preloadedAudios={};function M(a){if(z.onAbort)z.onAbort(a);F&&console.error("Pthread aborting at "+Error().stack);O(a);sa=!0;a=new WebAssembly.RuntimeError("abort("+a+"). Build with -s ASSERTIONS=1 for more info.");ia(a);throw a;}
function Ha(){var a=T;return String.prototype.startsWith?a.startsWith("data:application/octet-stream;base64,"):0===a.indexOf("data:application/octet-stream;base64,")}var T="stockfish.wasm";Ha()||(T=G+T);function Ia(){var a=T;try{if(I)return I(a);throw"both async and sync fetching of the wasm failed";}catch(b){M(b)}}
function Ja(){return(ma||D)&&"function"===typeof fetch?fetch(T,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+T+"'";return a.arrayBuffer()}).catch(function(){return Ia()}):Promise.resolve().then(function(){return Ia()})}var La={13640:function(){throw"Canceled!";},13903:function(a,b){setTimeout(function(){Ka(a,b)},0)}};
function Ma(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b(z);else{var c=b.Ia;"number"===typeof c?void 0===b.ma?Aa.get(c)():Aa.get(c)(b.ma):c(void 0===b.ma?null:b.ma)}}}function Na(a,b){if(0>=a||a>e().length||a&1||0>b)return-28;if(0==b)return 0;2147483647<=b&&(b=Infinity);var c=Atomics.load(u(),U>>2),d=0;if(c==a&&Atomics.compareExchange(u(),U>>2,c,0)==c&&(--b,d=1,0>=b))return 1;a=Atomics.notify(u(),a>>2,b);if(0<=a)return a+d;throw"Atomics.notify returned an unexpected value "+a;}
z._emscripten_futex_wake=Na;function Oa(a){if(F)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!a)throw"Internal Error! Null pthread_ptr in cleanupThread!";u()[a+12>>2]=0;(a=A.ga[a])&&A.ta(a.worker)}
var A={fa:[],ia:[],La:function(){for(var a=0;1>a;++a)A.za()},Ma:function(){for(var a=V(228),b=0;57>b;++b)x()[a/4+b]=0;u()[a+12>>2]=a;b=a+152;u()[b>>2]=b;var c=V(512);for(b=0;128>b;++b)x()[c/4+b]=0;Atomics.store(x(),a+100>>2,c);Atomics.store(x(),a+40>>2,a);Pa(a,!D,1);Qa(a)},Na:function(){A.receiveObjectTransfer=A.Pa;A.setThreadStatus=A.Ra;A.threadCancel=A.Ta;A.threadExit=A.Ua},ga:{},Fa:[],Ra:function(){},Da:function(){for(;0<A.Fa.length;)A.Fa.pop()();F&&W()&&Ra()},Ua:function(a){var b=W();b&&(Atomics.store(x(),
b+4>>2,a),Atomics.store(x(),b+0>>2,1),Atomics.store(x(),b+56>>2,1),Atomics.store(x(),b+60>>2,0),A.Da(),Na(b+0,2147483647),Pa(0,0,0),F&&postMessage({cmd:"exit"}))},Ta:function(){A.Da();var a=W();Atomics.store(x(),a+4>>2,-1);Atomics.store(x(),a+0>>2,1);Na(a+0,2147483647);Pa(0,0,0);postMessage({cmd:"cancelDone"})},Ea:function(){for(var a in A.ga){var b=A.ga[a];b&&b.worker&&A.ta(b.worker)}A.ga={};for(a=0;a<A.fa.length;++a){var c=A.fa[a];c.terminate()}A.fa=[];for(a=0;a<A.ia.length;++a)c=A.ia[a],b=c.ea,
A.ya(b),c.terminate();A.ia=[]},ya:function(a){if(a){if(a.ha){var b=u()[a.ha+100>>2];u()[a.ha+100>>2]=0;Sa(b);Sa(a.ha)}a.ha=0;a.xa&&a.ja&&Sa(a.ja);a.ja=0;a.worker&&(a.worker.ea=null)}},ta:function(a){A.Qa(function(){delete A.ga[a.ea.ha];A.fa.push(a);A.ia.splice(A.ia.indexOf(a),1);A.ya(a.ea);a.ea=void 0})},Qa:function(a){u()[Ta>>2]=0;try{a()}finally{u()[Ta>>2]=1}},Pa:function(){},Ba:function(a,b){a.onmessage=function(c){var d=c.data,h=d.cmd;a.ea&&(A.Ga=a.ea.ha);if(d.targetThread&&d.targetThread!=W()){var g=
A.ga[d.lb];g?g.worker.postMessage(c.data,d.transferList):console.error('Internal error! Worker sent a message "'+h+'" to target pthread '+d.targetThread+", but that thread no longer exists!")}else if("processQueuedMainThreadWork"===h)Ua();else if("spawnThread"===h)Va(c.data);else if("cleanupThread"===h)Oa(d.thread);else if("killThread"===h){c=d.thread;if(F)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!c)throw"Internal Error! Null pthread_ptr in killThread!";
u()[c+12>>2]=0;c=A.ga[c];c.worker.terminate();A.ya(c);A.ia.splice(A.ia.indexOf(c.worker),1);c.worker.ea=void 0}else if("cancelThread"===h){c=d.thread;if(F)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!c)throw"Internal Error! Null pthread_ptr in cancelThread!";A.ga[c].worker.postMessage({cmd:"cancel"})}else if("loaded"===h)a.loaded=!0,b&&b(a),a.na&&(a.na(),delete a.na);else if("print"===h)oa("Thread "+d.threadId+": "+d.text);else if("printErr"===h)O("Thread "+
d.threadId+": "+d.text);else if("alert"===h)alert("Thread "+d.threadId+": "+d.text);else if("exit"===h)a.ea&&Atomics.load(x(),a.ea.ha+64>>2)&&A.ta(a);else if("exitProcess"===h)try{Wa(d.returnCode)}catch(m){if(m instanceof L)return;throw m;}else"cancelDone"===h?A.ta(a):"objectTransfer"!==h&&("setimmediate"===c.data.target?a.postMessage(c.data):O("worker sent an unknown command "+h));A.Ga=void 0};a.onerror=function(c){O("pthread sent an error! "+c.filename+":"+c.lineno+": "+c.message)};E&&(a.on("message",
function(c){a.onmessage({data:c})}),a.on("error",function(c){a.onerror(c)}),a.on("exit",function(){}));a.postMessage({cmd:"load",urlOrBlob:z.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:ra})},za:function(){A.fa.push(new Worker(G+"stockfish.worker.js"))},Ja:function(){0==A.fa.length&&(A.za(),A.Ba(A.fa[0]));return 0<A.fa.length?A.fa.pop():null},$a:function(a){for(a=performance.now()+a;performance.now()<a;);}};z.establishStackSpace=function(a,b){Xa(a,b);X(a)};z.getNoExitRuntime=function(){return noExitRuntime};
z.invokeEntryPoint=function(a,b){return Aa.get(a)(b)};var Ya;Ya=E?function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:F?function(){return performance.now()-z.__performance_now_clock_drift}:function(){return performance.now()};var Za=[null,[],[]],$a={};function ab(a,b,c){return F?Y(2,1,a,b,c):0}function bb(a,b){if(F)return Y(3,1,a,b)}function cb(a,b,c){return F?Y(4,1,a,b,c):0}function db(a,b,c){if(F)return Y(5,1,a,b,c)}
function eb(){E||D||(qa||(qa={}),qa["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(qa["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,O("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))}
function fb(a,b,c){if(0>=a||a>e().length||a&1)return-28;if(ma){if(Atomics.load(u(),a>>2)!=b)return-6;var d=performance.now();c=d+c;for(Atomics.exchange(u(),U>>2,a);;){d=performance.now();if(d>c)return Atomics.exchange(u(),U>>2,0),-73;d=Atomics.exchange(u(),U>>2,0);if(0==d)break;Ua();if(Atomics.load(u(),a>>2)!=b)return-6;Atomics.exchange(u(),U>>2,a)}return 0}a=Atomics.wait(u(),a>>2,b,c);if("timed-out"===a)return-73;if("not-equal"===a)return-6;if("ok"===a)return 0;throw"Atomics.wait returned an unexpected value "+
a;}function Y(a,b){for(var c=arguments.length-2,d=gb(),h=Q(8*c),g=h>>3,m=0;m<c;m++){var r=arguments[2+m];ea()[g+m]=r}c=hb(a,c,h,b);X(d);return c}var ib=[],jb=[],kb=[0,"undefined"!==typeof document?document:0,"undefined"!==typeof window?window:0];function lb(a){a=2<a?P(a):a;return kb[a]||("undefined"!==typeof document?document.querySelector(a):void 0)}
function mb(a,b,c){var d=lb(a);if(!d)return-4;d.ra&&(u()[d.ra>>2]=b,u()[d.ra+4>>2]=c);if(d.Ca||!d.bb)d.Ca&&(d=d.Ca),a=!1,d.qa&&d.qa.pa&&(a=d.qa.pa.getParameter(2978),a=0===a[0]&&0===a[1]&&a[2]===d.width&&a[3]===d.height),d.width=b,d.height=c,a&&d.qa.pa.viewport(0,0,b,c);else{if(d.ra){d=u()[d.ra+8>>2];a=a?P(a):"";var h=gb(),g=Q(12),m=0;if(a){m=wa(a)+1;var r=V(m);va(a,t(),r,m);m=r}u()[g>>2]=m;u()[g+4>>2]=b;u()[g+8>>2]=c;nb(0,d,657457152,0,m,g);X(h);return 1}return-4}return 0}
function ob(a,b,c){return F?Y(6,1,a,b,c):mb(a,b,c)}function pb(a){var b=a.getExtension("ANGLE_instanced_arrays");b&&(a.vertexAttribDivisor=function(c,d){b.vertexAttribDivisorANGLE(c,d)},a.drawArraysInstanced=function(c,d,h,g){b.drawArraysInstancedANGLE(c,d,h,g)},a.drawElementsInstanced=function(c,d,h,g,m){b.drawElementsInstancedANGLE(c,d,h,g,m)})}
function qb(a){var b=a.getExtension("OES_vertex_array_object");b&&(a.createVertexArray=function(){return b.createVertexArrayOES()},a.deleteVertexArray=function(c){b.deleteVertexArrayOES(c)},a.bindVertexArray=function(c){b.bindVertexArrayOES(c)},a.isVertexArray=function(c){return b.isVertexArrayOES(c)})}function rb(a){var b=a.getExtension("WEBGL_draw_buffers");b&&(a.drawBuffers=function(c,d){b.drawBuffersWEBGL(c,d)})}
function sb(a){a||(a=tb);if(!a.Ka){a.Ka=!0;var b=a.pa;pb(b);qb(b);rb(b);b.cb=b.getExtension("EXT_disjoint_timer_query");b.ib=b.getExtension("WEBGL_multi_draw");(b.getSupportedExtensions()||[]).forEach(function(c){0>c.indexOf("lose_context")&&0>c.indexOf("debug")&&b.getExtension(c)})}}var tb,ub=["default","low-power","high-performance"],vb={};
function wb(){if(!xb){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ka||"./this.program"},b;for(b in vb)a[b]=vb[b];var c=[];for(b in a)c.push(b+"="+a[b]);xb=c}return xb}var xb;
function yb(a,b){if(F)return Y(7,1,a,b);var c=0;wb().forEach(function(d,h){var g=b+c;h=u()[a+4*h>>2]=g;for(g=0;g<d.length;++g)e()[h++>>0]=d.charCodeAt(g);e()[h>>0]=0;c+=d.length+1});return 0}function zb(a,b){if(F)return Y(8,1,a,b);var c=wb();u()[a>>2]=c.length;var d=0;c.forEach(function(h){d+=h.length+1});u()[b>>2]=d;return 0}function Ab(a){return F?Y(9,1,a):0}function Cb(a,b,c,d){if(F)return Y(10,1,a,b,c,d);a=$a.fb(a);b=$a.eb(a,b,c);u()[d>>2]=b;return 0}
function Db(a,b,c,d,h){if(F)return Y(11,1,a,b,c,d,h)}function Eb(a,b,c,d){if(F)return Y(12,1,a,b,c,d);for(var h=0,g=0;g<c;g++){for(var m=u()[b+8*g>>2],r=u()[b+(8*g+4)>>2],y=0;y<r;y++){var q=t()[m+y],v=Za[a];0===q||10===q?((1===a?oa:O)(ua(v,0)),v.length=0):v.push(q)}h+=r}u()[d>>2]=h;return 0}
function Va(a){if(F)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var b=A.Ja();if(void 0!==b.ea)throw"Internal error!";if(!a.sa)throw"Internal error, no pthread ptr!";A.ia.push(b);for(var c=V(512),d=0;128>d;++d)u()[c+4*d>>2]=0;var h=a.ja+a.ka;d=A.ga[a.sa]={worker:b,ja:a.ja,ka:a.ka,xa:a.xa,ha:a.sa};var g=d.ha>>2;Atomics.store(x(),g+16,a.detached);Atomics.store(x(),g+25,c);Atomics.store(x(),g+10,d.ha);Atomics.store(x(),g+20,a.ka);Atomics.store(x(),g+19,h);
Atomics.store(x(),g+26,a.ka);Atomics.store(x(),g+28,h);Atomics.store(x(),g+29,a.detached);c=Fb()+40;Atomics.store(x(),g+43,c);b.ea=d;var m={cmd:"run",start_routine:a.Sa,arg:a.ma,threadInfoStruct:a.sa,stackBase:a.ja,stackSize:a.ka};b.na=function(){m.time=performance.now();b.postMessage(m,a.Za)};b.loaded&&(b.na(),delete b.na)}
function Gb(a,b){if(!a)return O("pthread_join attempted on a null thread pointer!"),71;if(F&&W()==a)return O("PThread "+a+" is attempting to join to itself!"),16;if(!F&&Hb()==a)return O("Main thread "+a+" is attempting to join to itself!"),16;if(u()[a+12>>2]!==a)return O("pthread_join attempted on thread "+a+", which does not point to a valid thread, or does not exist anymore!"),71;if(Atomics.load(x(),a+64>>2))return O("Attempted to join thread "+a+", which was already detached!"),28;for(eb();;){var c=
Atomics.load(x(),a+0>>2);if(1==c)return c=Atomics.load(x(),a+4>>2),b&&(u()[b>>2]=c),Atomics.store(x(),a+64>>2,1),F?postMessage({cmd:"cleanupThread",thread:a}):Oa(a),0;if(F){var d=W();if(d&&!Atomics.load(x(),d+56>>2)&&2==Atomics.load(x(),d+0>>2))throw"Canceled!";}F||Ua();fb(a+0,c,F?100:1)}}function Ib(a){return 0===a%4&&(0!==a%100||0===a%400)}function Jb(a,b){for(var c=0,d=0;d<=b;c+=a[d++]);return c}var Kb=[31,29,31,30,31,30,31,31,30,31,30,31],Lb=[31,28,31,30,31,30,31,31,30,31,30,31];
function Mb(a,b){for(a=new Date(a.getTime());0<b;){var c=a.getMonth(),d=(Ib(a.getFullYear())?Kb:Lb)[c];if(b>d-a.getDate())b-=d-a.getDate()+1,a.setDate(1),11>c?a.setMonth(c+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);break}}return a}
function Nb(a,b,c,d){function h(f,p,w){for(f="number"===typeof f?f.toString():f||"";f.length<p;)f=w[0]+f;return f}function g(f,p){return h(f,p,"0")}function m(f,p){function w(Bb){return 0>Bb?-1:0<Bb?1:0}var N;0===(N=w(f.getFullYear()-p.getFullYear()))&&0===(N=w(f.getMonth()-p.getMonth()))&&(N=w(f.getDate()-p.getDate()));return N}function r(f){switch(f.getDay()){case 0:return new Date(f.getFullYear()-1,11,29);case 1:return f;case 2:return new Date(f.getFullYear(),0,3);case 3:return new Date(f.getFullYear(),
0,2);case 4:return new Date(f.getFullYear(),0,1);case 5:return new Date(f.getFullYear()-1,11,31);case 6:return new Date(f.getFullYear()-1,11,30)}}function y(f){f=Mb(new Date(f.da+1900,0,1),f.wa);var p=new Date(f.getFullYear()+1,0,4),w=r(new Date(f.getFullYear(),0,4));p=r(p);return 0>=m(w,f)?0>=m(p,f)?f.getFullYear()+1:f.getFullYear():f.getFullYear()-1}var q=u()[d+40>>2];d={Xa:u()[d>>2],Wa:u()[d+4>>2],ua:u()[d+8>>2],oa:u()[d+12>>2],la:u()[d+16>>2],da:u()[d+20>>2],va:u()[d+24>>2],wa:u()[d+28>>2],mb:u()[d+
32>>2],Va:u()[d+36>>2],Ya:q?P(q):""};c=P(c);q={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var v in q)c=c.replace(new RegExp(v,"g"),q[v]);var Z="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
pa="January February March April May June July August September October November December".split(" ");q={"%a":function(f){return Z[f.va].substring(0,3)},"%A":function(f){return Z[f.va]},"%b":function(f){return pa[f.la].substring(0,3)},"%B":function(f){return pa[f.la]},"%C":function(f){return g((f.da+1900)/100|0,2)},"%d":function(f){return g(f.oa,2)},"%e":function(f){return h(f.oa,2," ")},"%g":function(f){return y(f).toString().substring(2)},"%G":function(f){return y(f)},"%H":function(f){return g(f.ua,
2)},"%I":function(f){f=f.ua;0==f?f=12:12<f&&(f-=12);return g(f,2)},"%j":function(f){return g(f.oa+Jb(Ib(f.da+1900)?Kb:Lb,f.la-1),3)},"%m":function(f){return g(f.la+1,2)},"%M":function(f){return g(f.Wa,2)},"%n":function(){return"\n"},"%p":function(f){return 0<=f.ua&&12>f.ua?"AM":"PM"},"%S":function(f){return g(f.Xa,2)},"%t":function(){return"\t"},"%u":function(f){return f.va||7},"%U":function(f){var p=new Date(f.da+1900,0,1),w=0===p.getDay()?p:Mb(p,7-p.getDay());f=new Date(f.da+1900,f.la,f.oa);return 0>
m(w,f)?g(Math.ceil((31-w.getDate()+(Jb(Ib(f.getFullYear())?Kb:Lb,f.getMonth()-1)-31)+f.getDate())/7),2):0===m(w,p)?"01":"00"},"%V":function(f){var p=new Date(f.da+1901,0,4),w=r(new Date(f.da+1900,0,4));p=r(p);var N=Mb(new Date(f.da+1900,0,1),f.wa);return 0>m(N,w)?"53":0>=m(p,N)?"01":g(Math.ceil((w.getFullYear()<f.da+1900?f.wa+32-w.getDate():f.wa+1-w.getDate())/7),2)},"%w":function(f){return f.va},"%W":function(f){var p=new Date(f.da,0,1),w=1===p.getDay()?p:Mb(p,0===p.getDay()?1:7-p.getDay()+1);f=
new Date(f.da+1900,f.la,f.oa);return 0>m(w,f)?g(Math.ceil((31-w.getDate()+(Jb(Ib(f.getFullYear())?Kb:Lb,f.getMonth()-1)-31)+f.getDate())/7),2):0===m(w,p)?"01":"00"},"%y":function(f){return(f.da+1900).toString().substring(2)},"%Y":function(f){return f.da+1900},"%z":function(f){f=f.Va;var p=0<=f;f=Math.abs(f)/60;return(p?"+":"-")+String("0000"+(f/60*100+f%60)).slice(-4)},"%Z":function(f){return f.Ya},"%%":function(){return"%"}};for(v in q)0<=c.indexOf(v)&&(c=c.replace(new RegExp(v,"g"),q[v](d)));v=
Ob(c);if(v.length>b)return 0;ya(v,a);return v.length-1}F||A.La();var Pb=[null,function(a,b){if(F)return Y(1,1,a,b)},ab,bb,cb,db,ob,yb,zb,Ab,Cb,Db,Eb];function Ob(a){var b=Array(wa(a)+1);va(a,b,0,b.length);return b}
var Tb={c:function(a,b,c,d){M("Assertion failed: "+P(a)+", at: "+[b?P(b):"unknown filename",c,d?P(d):"unknown function"])},j:ab,r:bb,p:cb,q:db,E:function(a,b){if(a==b)postMessage({cmd:"processQueuedMainThreadWork"});else if(F)postMessage({targetThread:a,cmd:"processThreadQueue"});else{a=(a=A.ga[a])&&a.worker;if(!a)return;a.postMessage({cmd:"processThreadQueue"})}return 1},b:function(){M()},v:function(a,b){if(0===a)a=Date.now();else if(1===a||4===a)a=Ya();else return u()[Qb()>>2]=28,-1;u()[b>>2]=a/
1E3|0;u()[b+4>>2]=a%1E3*1E6|0;return 0},o:function(a,b,c){jb.length=0;var d;for(c>>=2;d=t()[b++];)(d=105>d)&&c&1&&c++,jb.push(d?ea()[c++>>1]:u()[c]),++c;return La[a].apply(null,jb)},z:eb,n:function(){},f:fb,e:Na,g:Ya,u:function(a,b,c){t().copyWithin(a,b,b+c)},A:function(a,b,c){ib.length=b;c>>=3;for(var d=0;d<b;d++)ib[d]=ea()[c+d];return(0>a?La[-a-1]:Pb[a]).apply(null,ib)},d:function(a){var b=t().length;if(a<=b||2147483648<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);
d=Math.max(a,d);0<d%65536&&(d+=65536-d%65536);a:{try{k.grow(Math.min(2147483648,d)-l.byteLength+65535>>>16);n(k.buffer);var h=1;break a}catch(g){}h=void 0}if(h)return!0}return!1},B:function(a,b,c){return lb(a)?mb(a,b,c):ob(a,b,c)},m:function(){},D:function(a,b){b>>=2;var c=u()[b+6];b={alpha:!!u()[b],depth:!!u()[b+1],stencil:!!u()[b+2],antialias:!!u()[b+3],premultipliedAlpha:!!u()[b+4],preserveDrawingBuffer:!!u()[b+5],powerPreference:ub[c],failIfMajorPerformanceCaveat:!!u()[b+7],Oa:u()[b+8],hb:u()[b+
9],Aa:u()[b+10],Ha:u()[b+11],jb:u()[b+12],kb:u()[b+13]};a=lb(a);if(!a||b.Ha)b=0;else if(a=a.getContext("webgl",b)){c=V(8);u()[c+4>>2]=W();var d={gb:c,attributes:b,version:b.Oa,pa:a};a.canvas&&(a.canvas.qa=d);("undefined"===typeof b.Aa||b.Aa)&&sb(d);b=c}else b=0;return b},x:yb,y:zb,h:function(a){Wa(a)},k:Ab,F:Cb,s:Db,i:Eb,t:function(){A.Ma()},a:k||z.wasmMemory,l:function(a,b,c,d){if("undefined"===typeof SharedArrayBuffer)return O("Current environment does not support SharedArrayBuffer, pthreads are not available!"),
6;if(!a)return O("pthread_create called with a null thread pointer!"),28;var h=[];if(F&&0===h.length)return Rb(687865856,a,b,c,d);var g=0,m=0;if(b&&-1!=b){var r=u()[b>>2];r+=81920;g=u()[b+8>>2];m=0!==u()[b+12>>2]}else r=2097152;(b=0==g)?g=Sb(16,r):(g-=r,assert(0<g));for(var y=V(228),q=0;57>q;++q)x()[(y>>2)+q]=0;u()[a>>2]=y;u()[y+12>>2]=y;a=y+152;u()[a>>2]=a;c={ja:g,ka:r,xa:b,detached:m,Sa:c,sa:y,ma:d,Za:h};F?(c.ab="spawnThread",postMessage(c,h)):Va(c);return 0},C:function(a,b){return Gb(a,b)},w:function(a,
b,c,d){return Nb(a,b,c,d)}};
(function(){function a(h,g){z.asm=h.exports;Aa=z.asm.ca;ra=g;if(!F){var m=A.fa.length;A.fa.forEach(function(r){A.Ba(r,function(){if(!--m&&(R--,0==R&&(null!==Ga&&(clearInterval(Ga),Ga=null),S))){var y=S;S=null;y()}})})}}function b(h){a(h.instance,h.module)}function c(h){return Ja().then(function(g){return WebAssembly.instantiate(g,d)}).then(h,function(g){O("failed to asynchronously prepare wasm: "+g);M(g)})}var d={a:Tb};F||(assert(!F,"addRunDependency cannot be used in a pthread worker"),R++);if(z.instantiateWasm)try{return z.instantiateWasm(d,
a)}catch(h){return O("Module.instantiateWasm callback failed with error: "+h),!1}(function(){return"function"!==typeof WebAssembly.instantiateStreaming||Ha()||"function"!==typeof fetch?c(b):fetch(T,{credentials:"same-origin"}).then(function(h){return WebAssembly.instantiateStreaming(h,d).then(b,function(g){O("wasm streaming compile failed: "+g);O("falling back to ArrayBuffer instantiation");return c(b)})})})().catch(ia);return{}})();
var Fa=z.___wasm_call_ctors=function(){return(Fa=z.___wasm_call_ctors=z.asm.G).apply(null,arguments)};z._main=function(){return(z._main=z.asm.H).apply(null,arguments)};var Sa=z._free=function(){return(Sa=z._free=z.asm.I).apply(null,arguments)};z._uci_command=function(){return(z._uci_command=z.asm.J).apply(null,arguments)};
var Qb=z.___errno_location=function(){return(Qb=z.___errno_location=z.asm.K).apply(null,arguments)},Fb=z._emscripten_get_global_libc=function(){return(Fb=z._emscripten_get_global_libc=z.asm.L).apply(null,arguments)},V=z._malloc=function(){return(V=z._malloc=z.asm.M).apply(null,arguments)},W=z._pthread_self=function(){return(W=z._pthread_self=z.asm.N).apply(null,arguments)},Ra=z.___pthread_tsd_run_dtors=function(){return(Ra=z.___pthread_tsd_run_dtors=z.asm.O).apply(null,arguments)};
z._emscripten_current_thread_process_queued_calls=function(){return(z._emscripten_current_thread_process_queued_calls=z.asm.P).apply(null,arguments)};
var Qa=z._emscripten_register_main_browser_thread_id=function(){return(Qa=z._emscripten_register_main_browser_thread_id=z.asm.Q).apply(null,arguments)},Hb=z._emscripten_main_browser_thread_id=function(){return(Hb=z._emscripten_main_browser_thread_id=z.asm.R).apply(null,arguments)},Ka=z.__emscripten_do_dispatch_to_thread=function(){return(Ka=z.__emscripten_do_dispatch_to_thread=z.asm.S).apply(null,arguments)},Rb=z._emscripten_sync_run_in_main_thread_4=function(){return(Rb=z._emscripten_sync_run_in_main_thread_4=
z.asm.T).apply(null,arguments)},Ua=z._emscripten_main_thread_process_queued_calls=function(){return(Ua=z._emscripten_main_thread_process_queued_calls=z.asm.U).apply(null,arguments)},hb=z._emscripten_run_in_main_runtime_thread_js=function(){return(hb=z._emscripten_run_in_main_runtime_thread_js=z.asm.V).apply(null,arguments)},nb=z.__emscripten_call_on_thread=function(){return(nb=z.__emscripten_call_on_thread=z.asm.W).apply(null,arguments)};
z._emscripten_tls_init=function(){return(z._emscripten_tls_init=z.asm.X).apply(null,arguments)};
var Pa=z.__emscripten_thread_init=function(){return(Pa=z.__emscripten_thread_init=z.asm.Y).apply(null,arguments)},gb=z.stackSave=function(){return(gb=z.stackSave=z.asm.Z).apply(null,arguments)},X=z.stackRestore=function(){return(X=z.stackRestore=z.asm._).apply(null,arguments)},Q=z.stackAlloc=function(){return(Q=z.stackAlloc=z.asm.$).apply(null,arguments)},Xa=z._emscripten_stack_set_limits=function(){return(Xa=z._emscripten_stack_set_limits=z.asm.aa).apply(null,arguments)},Sb=z._memalign=function(){return(Sb=
z._memalign=z.asm.ba).apply(null,arguments)},Ta=z.__emscripten_allow_main_runtime_queued_calls=28092,U=z.__emscripten_main_thread_futex=1089984;
z.ccall=function(a,b,c,d){var h={string:function(q){var v=0;if(null!==q&&void 0!==q&&0!==q){var Z=(q.length<<2)+1,pa=v=Q(Z);va(q,t(),pa,Z)}return v},array:function(q){var v=Q(q.length);ya(q,v);return v}},g=ta(a),m=[];a=0;if(d)for(var r=0;r<d.length;r++){var y=h[c[r]];y?(0===a&&(a=gb()),m[r]=y(d[r])):m[r]=d[r]}c=g.apply(null,m);c=function(q){return"string"===b?P(q):"boolean"===b?!!q:q}(c);0!==a&&X(a);return c};z.PThread=A;z.PThread=A;z.wasmMemory=k;z.ExitStatus=L;var Ub;
function L(a){this.name="ExitStatus";this.message="Program terminated with exit("+a+")";this.status=a}S=function Vb(){Ub||Wb();Ub||(S=Vb)};
function Wb(a){a=a||ja;if(!(0<R))if(F)ha(z),postMessage({cmd:"loaded"});else if(F||Ma(Ba),!(0<R||Ub||(Ub=!0,z.calledRun=!0,sa))){Ma(Ca);F||Ma(Da);ha(z);if(z.onRuntimeInitialized)z.onRuntimeInitialized();if(Xb){var b=z._main;a=a||[];var c=a.length+1,d=Q(4*(c+1));u()[d>>2]=xa(ka);for(var h=1;h<c;h++)u()[(d>>2)+h]=xa(a[h-1]);u()[(d>>2)+c]=0;try{var g=b(c,d);Wa(g,!0)}catch(m){m instanceof L||("unwind"==m?noExitRuntime=!0:((b=m)&&"object"===typeof m&&m.stack&&(b=[m,m.stack]),O("exception thrown: "+b),
la(1,m)))}finally{}}if(!F){if(z.postRun)for("function"==typeof z.postRun&&(z.postRun=[z.postRun]);z.postRun.length;)b=z.postRun.shift(),Ea.unshift(b);Ma(Ea)}}}z.run=Wb;function Wa(a,b){if(!b||!noExitRuntime||0!==a){if(!b&&F)throw postMessage({cmd:"exitProcess",returnCode:a}),new L(a);noExitRuntime||(A.Ea(),sa=!0);la(a,new L(a))}}var Xb=!0;F&&(noExitRuntime=!1,A.Na());Wb();


  return Stockfish.ready
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
  module.exports = Stockfish;
else if (typeof define === 'function' && define['amd'])
  define([], function() { return Stockfish; });
else if (typeof exports === 'object')
  exports["Stockfish"] = Stockfish;
